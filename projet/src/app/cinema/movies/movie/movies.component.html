<div fxLayout="row space-around" fxLayoutAlign="space-around">
  <mat-form-field>
    <mat-label>Movie Genre</mat-label>
    <mat-select [(value)]="selected" (selectionChange)="genreSwap( $event )">
      <mat-option *ngFor="let genre of genres$ | async" [value]="genre.id">
        {{ genre.name | titlecase }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <input matInput placeholder="Movie ðŸ™‚" type="text" [(ngModel)]="searchString" (ngModelChange)="searchMovie( $event )" name="search">
  </mat-form-field>
</div>

<ng-template [ngIf]="moviesFiltered$" [ngIfElse]="loading">
  <div class="container" fxLayout="row wrapt" fxLayoutGap="20px">
    <div *ngFor="let movie of moviesFiltered$ | async">
      <a routerLink="moviedetail" [state]="movie">
        <img [src]="urlImages + movie?.poster_path" width="240" height="350">
        <ng-template [ngIf]="(movie.title).length > 29" [ngIfElse]="title2">
          <div class='title'>
          {{(movie.title).substr(0,30)}} ...
          </div>
        </ng-template>
        <ng-template #title2>
          <div class='title'>
            {{movie.title}}
            </div>
        </ng-template>
      </a>
    </div>
  </div>
</ng-template>

<ng-template #loading>
  <h1> Noobs </h1>
</ng-template>
